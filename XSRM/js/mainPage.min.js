const calculator=()=>{const e=document.querySelector(".calculator__gridWrapper"),t=e.querySelector("#resultSum"),r=(e.querySelector("#discount"),e.querySelector(".progressBar__date")),c=e.querySelector(".progressBar__line");let o=0;e.querySelectorAll("input").forEach(e=>{let t=e.getAttribute("date");o+=Number(t)}),e.addEventListener("click",()=>{let e=0,l=0,u=event.target.offsetParent;event.target.classList.contains("customCheckbox__input")&&(u.classList.toggle("customCheckbox_active"),document.querySelectorAll(".customCheckbox_active").forEach(t=>{let r=t.querySelector("input"),c=r.getAttribute("value"),o=r.getAttribute("date");e+=Number(c),l+=Number(o)}),t.innerText=e,r.innerText=l+" мес.",function(){let e=Math.floor(l/o*100),t=c.offsetWidth*(e/100);r.style.maxWidth=t+"px"}())})};calculator();